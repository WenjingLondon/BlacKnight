<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YieldNest</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Âõ∫ÂÆöÂØºËà™Ê†è -->
    <header class="navbar">
      <div class="container">
        <div class="navbar-logo">
          <img src="logo.png" alt="Project Logo" class="logo" />
          <span class="project-name">BlacKnight</span>
        </div>
        <h1 class="logo">YieldNest</h1>
        <nav>
          <ul class="nav-links">
            <li><a href="about.html">About</a></li>
            <li><a href="features.html">Features</a></li>
            <li><a href="vip.html">VIP Bespoke</a></li>
            <li><a href="subscribe.html">Subscribe</a></li>
          </ul>
        </nav>
        <button id="connectWallet" class="connect-wallet-btn">
          Connect Wallet
        </button>
        <p id="walletAddress" style="font-weight: bold"></p>
        <p id="statusMessage" style="color: green"></p>
      </div>
    </header>

    <!-- Section 1: Âõ∫ÂÆöÁ≤âËâ≤ËÉåÊôØ -->
    <section class="hero">
      <div class="hero-content">
        <h1>Welcome to BlacKnight</h1>
        <p>The Easiest Way to Invest In Crypto Passively</p>
        <div class="cta-buttons">
          <button id="startInvestingBtn" class="btn">Start Investing</button>
        </div>
      </div>
    </section>

    <!-- Ê∏êËøõÂºèÂá∫Áé∞ÁöÑ Screens -->
    <section class="screens">
      <div class="screen" id="screen1">
        <img src="screen1.jpg" alt="screen 1" />
      </div>
      <div class="screen" id="screen2">
        <img src="screen2.jpg" alt="screen 2" />
      </div>
      <div class="screen" id="screen3">
        <img src="screen3.jpg" alt="screen 3" />
      </div>
    </section>

    <!-- Section 2: ÂÖ®Â±èËÉåÊôØÂõæ -->
    <section class="section-overlay">
      <div class="overlay-content">
        <h2>Discover the Next Level of DeFi</h2>
      </div>
    </section>

    <!-- Á¨¨‰∏â‰∏™ section -->
    <section id="features" class="section colored">
      <div class="container">
        <h3>Features</h3>
        <ul>
          <li>üìä Auto-yield strategies</li>
          <li>üîí Transparent DeFi protocols</li>
          <li>üßò Relaxed, user-focused UI</li>
        </ul>
      </div>
    </section>

    <!-- Êõ¥Â§öÂÜÖÂÆπ -->
    <section id="benefits" class="section light">
      <div class="container">
        <h3>Why Choose Us?</h3>
        <p>
          We believe DeFi should be accessible, chic, and empowering. Our
          platform is designed to welcome everyone into crypto investing.
        </p>
      </div>
    </section>

    <!-- ÊúÄÂêé‰∏Ä‰∏™ section -->
    <section id="join" class="section colored">
      <div class="container">
        <h3>Get Early Access</h3>
        <p>
          Join our waitlist and be the first to experience simplified yield
          generation.
        </p>
        <form class="signup-form">
          <input type="email" placeholder="Your email" required />
          <button type="submit">Join Waitlist</button>
        </form>
      </div>
    </section>

    <!-- È°µËÑö -->
    <footer class="footer">
      <div class="container">
        <p>&copy; 2025 YieldNest. All rights reserved.</p>
      </div>
    </footer>

    <!-- ÂºïÂÖ• ethers.js ÂíåÂÖ∂‰ªñËÑöÊú¨ -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script src="./config.js"></script>
    <script src="./abis/YieldAggregatorV1ABI.js"></script>
    <script src="./abis/IStrategy.js"></script>
    <script src="./abis/IStrategyManager.js"></script>
    <script src="./interaction.js"></script>
    <script src="./script.js"></script>

    <script>
      // ÂÆö‰πâÂÖ®Â±ÄÂèòÈáèÔºå‰øùÊåÅÈí±ÂåÖÂú∞ÂùÄ
      let connectedWallet = null;

      document
        .getElementById("connectWallet")
        .addEventListener("click", async () => {
          console.log("Button clicked");

          if (typeof window.ethereum === "undefined") {
            alert("Please install MetaMask or another wallet plugin.");
            console.log("MetaMask is not installed.");
            return;
          }

          console.log("MetaMask detected");

          try {
            // ËØ∑Ê±ÇËøûÊé•Èí±ÂåÖ
            await window.ethereum.request({ method: "eth_requestAccounts" });

            // Ëé∑ÂèñÂΩìÂâçÁî®Êà∑ÁöÑÈí±ÂåÖÂú∞ÂùÄ
            const accounts = await window.ethereum.request({
              method: "eth_accounts",
            });

            if (accounts.length === 0) {
              alert("No accounts found. Please check your MetaMask.");
              return;
            }

            connectedWallet = accounts[0]; // ‰ΩøÁî®ÂÖ®Â±ÄÂèòÈáè‰øùÂ≠òÈí±ÂåÖÂú∞ÂùÄ

            console.log("Connected Wallet: " + connectedWallet);

            // Êõ¥Êñ∞UI
            document.getElementById("walletAddress").textContent =
              "Connected Wallet: " + connectedWallet;

            document.getElementById("connectWallet").textContent =
              "Wallet Connected";
            document.getElementById("statusMessage").textContent =
              "‚úÖ Wallet connected. You can now start investing!";
            document.getElementById("connectWallet").disabled = true; // Á¶ÅÁî®ÊåâÈíÆ
          } catch (err) {
            console.error("Connection Error: ", err);
            alert("Failed to connect wallet. Please try again.");
          }
        });

      document
        .getElementById("startInvestingBtn")
        .addEventListener("click", () => {
          if (!connectedWallet) {
            alert("‚ö†Ô∏è Please connect your wallet before investing.");
            return;
          }

          // Ë∑≥ËΩ¨Âà∞ invest.html
          window.location.href = "invest.html";
        });
    </script>
  </body>
</html>
